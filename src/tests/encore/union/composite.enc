def global(x : Foo) : void
  print "In global"

unsafe trait Foo
  def foo() : void
    print "In Foo"

unsafe trait Bar

unsafe trait Baz

passive class C1 : Foo + Baz

passive class C2 : Foo + Bar

class Main
  def main(): void {
    let x = if true then
              Just [new C1]
            else
              Just [new C2];
    match x with
      Just y => {(y[0]).foo(); global(y[0])}
  }
